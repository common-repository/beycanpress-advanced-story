(function(e){function t(t){for(var n,i,a=t[0],c=t[1],u=t[2],d=0,p=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var c=r[a];0!==s[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},s={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"01a1":function(e,t,r){"use strict";r("72a8")},"0e4a":function(e,t,r){"use strict";r("44d0")},"0fcb":function(e,t,r){},1:function(e,t){},"14f1":function(e,t,r){"use strict";r("8726")},"1e12":function(e,t,r){},2:function(e,t){},"292a":function(e,t,r){"use strict";r("5869")},3:function(e,t){},"3a70":function(e,t,r){"use strict";r("44a1")},"44a1":function(e,t,r){},"44d0":function(e,t,r){},"4cff":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("159b");var n,s=r("2b0e"),o=r("8468"),i=r("1da1"),a=(r("96cf"),r("2f62")),c={namespaced:!0,state:{heightRatio:597,activeStoryBoxWidth:335,notActiveStoryBoxWidth:140,activeStoryBoxHeightPercent:94,notActiveStoryBoxHeightPercent:38.113,ratio:1.78208955224},mutations:{setActiveStoryBoxWidth:function(e,t){e.activeStoryBoxWidth=t},setNotActiveStoryBoxWidth:function(e,t){e.notActiveStoryBoxWidth=t}},actions:{resizeStoryBoxesTimer:function(e){var t=e.dispatch,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:450;setTimeout((function(){t("resizeStoryBoxes")}),r)},resizeStoryBoxes:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,s,o,i,a,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,s=e.state,t.next=3,r("getElements",{},{root:!0});case 3:if(o=t.sent,i=o.activeStoryBox,a=o.allStoryBoxesNotActive,i){t.next=8;break}return t.abrupt("return");case 8:return c=window.innerHeight*s.activeStoryBoxHeightPercent/100,u=c/s.ratio,t.next=12,r("isMobile",{},{root:!0});case 12:l=t.sent,l&&(u=l),i.style.width=u+"px",clearTimeout(n),0!=a.length?bpStory.forEach({array:a,callback:function(e){var t=window.innerHeight*s.notActiveStoryBoxHeightPercent/100,r=t/s.ratio;e.style.width=r+"px"},done:function(){n=setTimeout((function(){return r("resizeAfterProcess")}),450)}}):n=setTimeout((function(){return r("resizeAfterProcess")}),450);case 17:case"end":return t.stop()}}),t)})))()},resizeAfterProcess:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s,o,i,a,c,u,l,d,p,m,v,y,g,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,n=e.commit,t.next=3,r("getElements",{},{root:!0});case 3:return s=t.sent,o=s.prevBtn,i=s.nextBtn,a=s.storyBoxGeneral,c=s.viewerContainer,u=s.activeStoryBox,l=s.allStoryBoxesNotActive,d=parseInt(u.getAttribute("data-order")),a.querySelector('.story-box[data-order="0"]')||d--,p=bpStory.getRealVal(c,"width"),m=bpStory.getRealVal(u,"width"),v=p/2-m/2,0==d?a.style.marginLeft=v+"px":(y=(bpStory.getRealVal(l[0],"width")+40)*d,a.style.marginLeft=v-y+"px"),g=p/2-m/2,t.next=19,r("isMobile",{},{root:!0});case 19:f=t.sent,f?g+=5:g-=36,o.style.left=i.style.right=g+"px",n("setActiveStoryBoxWidth",bpStory.getRealVal(u,"width")),l[0]&&n("setNotActiveStoryBoxWidth",bpStory.getRealVal(l[0],"width"));case 24:case"end":return t.stop()}}),t)})))()}},getters:{activeStoryBoxWidth:function(e){return e.activeStoryBoxWidth},notActiveStoryBoxWidth:function(e){return e.notActiveStoryBoxWidth}}},u=c,l=r("ade3"),d={namespaced:!0,actions:{set:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.rootState,o=e.dispatch,n.next=3,o("get");case 3:i=n.sent,i=Object.assign(i,t),r._vm.$cookies.set(s.bpStoryId,i);case 6:case"end":return n.stop()}}),n)})))()},get:function(e,t){var r=e.rootState,n=this._vm.$cookies.get(r.bpStoryId);return n||(n={}),t?n[t]:n},isKey:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=e.rootState,o=e.dispatch,!t){n.next=8;break}return n.next=4,o("get");case 4:return i=n.sent,n.abrupt("return",!!i[t]);case 8:return n.abrupt("return",r._vm.$cookies.isKey(s.bpStoryId));case 9:case"end":return n.stop()}}),n)})))()},updateSeen:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s,o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.dispatch,s=t.storyBox,o=t.storyCookie,r.next=4,n("get");case 4:i=r.sent,i.seen&&(i.seen[s]=o),n("set",i);case 7:case"end":return r.stop()}}),r)})))()},setSeen:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s,o,i,a,c,u,d,p,m,v,y,g,f,h;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.dispatch,s=t.activeStory,o=t.activeStoryBox,r.next=4,n("getElements",{},{root:!0});case 4:return i=r.sent,a=i.storyList,r.next=8,n("get");case 8:c=r.sent,u=o.getAttribute("data-story-box"),d=parseInt(s.getAttribute("data-order")),p=parseInt(s.getAttribute("data-story-id")),m=o.querySelectorAll(".story-item"),bpStory.isElement(s.nextSibling)?(v=parseInt(s.nextSibling.getAttribute("data-story-id")),y=parseInt(s.nextSibling.getAttribute("data-order"))):(v=parseInt(m[0].getAttribute("data-story-id")),y=0),g={activeStoryId:v,activeStoryOrder:y},c.seen?c.seen[u]?c.seen[u]=Object.assign(c.seen[u],g):c.seen=Object.assign(c.seen,Object(l["a"])({},u,g)):c.seen=Object(l["a"])({},u,g),c.seen[u].lastLookDate=new Date,d==m.length-1&&(c.seen[u].seen=!0,c.seen[u].lastStoryId=p,c.seen[u].lastOrder=d,c.seen[u].lastSeenDate=new Date,f=a.querySelector(".list-item[data-story-box='"+u+"']"),h=o.querySelector(".story-box-opener[data-story-box='"+u+"']"),f.classList.add("seen"),h.classList.add("seen")),n("set",c);case 19:case"end":return r.stop()}}),r)})))()}}},p=d,m=(r("b64b"),r("d81d"),r("99af"),{namespaced:!0,state:{listCopy:[],list:[]},mutations:{setList:function(e,t){e.list=t},setListCopy:function(e,t){e.listCopy=t}},actions:{orderByCookies:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s,o,a,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,n=e.dispatch,s=e.commit,o=e.rootState,a=r.listCopy,c=[],u=[],t.next=5,n("cookies/get","seen",{root:!0});case 5:if(l=t.sent,l){t.next=8;break}return t.abrupt("return");case 8:if(0!=Object.keys(l).length){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,bpStory.forEach({array:a,callback:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=l[t.storyBox],r&&r.seen&&0!=t.storyItems.length?(t.storyItems.map((function(e,t){var n=new Date(e.createdAt),s=new Date(r.lastSeenDate);r.seen&&n>s&&(r.activeStoryId=e.storyId,r.activeStoryOrder=t,delete r.seen)})),n("cookies/updateSeen",{storyBox:t.storyBox,storyCookie:r},{root:!0}),r.seen&&!t.currentUser?(t.lastLookDate=r.lastLookDate,u.push(t)):c.push(t)):c.push(t),e.abrupt("return",{notSeenStories:c,hasSeenStories:u});case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),done:function(e){var t=e.hasSeenStories,r=e.notSeenStories;if(t.sort((function(e,t){return new Date(e.lastLookDate)-new Date(t.lastLookDate)})),0!=t.length){var i=r.concat(t);s("setList",i),o.EventBus.$emit("updateStories",i),n("randomKey",{},{root:!0})}}});case 12:case"end":return t.stop()}}),t)})))()},setList:function(e,t){var r=e.commit;r("setList",t)},setListCopy:function(e,t){var r=e.commit;r("setListCopy",t)},setListAll:function(e,t){var r=e.commit;r("setList",t),r("setListCopy",t)}},getters:{getList:function(e){return e.list}}}),v=m,y={namespaced:!0,state:{mediaType:null},mutations:{setMediaType:function(e,t){e.mediaType=t}},actions:{setMediaType:function(e,t){var r=e.commit,n="image";t&&(n="video"),r("setMediaType",n)},hasSeen:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s,o,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,n=e.rootState,t.next=3,r("getElements",{},{root:!0});case 3:s=t.sent,o=s.activeStory,i=s.activePointer,a=s.video,clearInterval(n.autoTransition.interval),a&&a.pause(),o&&bpStory.isElement(o.nextSibling)&&(o.classList.remove("active"),o.nextSibling.classList.add("active"),bpStory.isElement(i.nextSibling)&&(i.nextSibling.classList.add("active"),i.nextSibling.classList.add("stop"),i.classList.remove("active"),i.classList.add("seen")));case 10:case"end":return t.stop()}}),t)})))()},setPublishTime:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,t.next=3,r("getElements",{},{root:!0});case 3:n=t.sent,s=n.activeStory,o=n.activeStoryBox,i=s.getAttribute("data-publish-time"),o.querySelector(".publish-time").innerHTML=i;case 8:case"end":return t.stop()}}),t)})))()},reset:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s,o,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,t.next=3,r("getElements",{},{root:!0});case 3:n=t.sent,s=n.activeStory,o=n.allStories,i=n.pointers,a=n.video,a&&a.pause(),s&&!bpStory.isElement(s.nextSibling)&&(bpStory.forEach({array:o,callback:function(e){e.classList.remove("active")},done:function(){o[0].classList.add("active")}}),bpStory.forEach({array:i,callback:function(e){e.classList.remove("seen"),e.classList.remove("active"),e.classList.remove("stop")},done:function(){i[0].classList.add("active"),i[0].classList.add("stop")}}));case 10:case"end":return t.stop()}}),t)})))()}},getters:{mediaType:function(e){return e.mediaType}}},g=y,f={namespaced:!0,state:{paused:!1,interval:null,closePause:!1,transitionTime:5},mutations:{setPaused:function(e,t){e.paused=t},setInterval:function(e,t){e.interval=t},setClosePause:function(e,t){e.closePause=t},setTransitionTime:function(e,t){e.transitionTime=t}},actions:{reset:function(e){var t=e.state;return clearInterval(t.interval)},start:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s,o,i,a,c,u,l,d,p,m,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return v=function(){if(n("activeStory/setMediaType",d,{root:!0}),c.classList.remove("stop"),l.style.animationDuration=p+"ms",l.style.animationPlayState="running",c.classList.add("active"),s.paused){var e=bpStory.getRealVal(l.parentNode,"width"),t=bpStory.getRealVal(l,"width"),i=100*t/e;p-=p*i/100,n("paused",!1)}d&&(d.currentTime=0),r("setInterval",setInterval((function(){u.nextSibling||bpStory.isElement(a.nextSibling)?s.paused?clearInterval(s.interval):o.EventBus.$emit("directionBtnClick",!0):clearInterval(s.interval)}),p))},r=e.commit,n=e.dispatch,s=e.state,o=e.rootState,t.next=4,n("getElements",{},{root:!0});case 4:i=t.sent,a=i.activeStory,c=i.activePointer,u=i.activeStoryBox,l=i.activePointerDiv,d=i.video,p=a.hasAttribute("data-transition-time")?a.getAttribute("data-transition-time"):s.transitionTime,p*=1e3,d?(m=function(){d.play(),p=1e3*Math.round(d.duration),d.muted=o.controllers.mute,v()},d.duration?m():d.onloadedmetadata=m):v();case 13:case"end":return t.stop()}}),t)})))()},disabled:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s,o,i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.dispatch,s=e.state,r.next=3,n("getElements",{},{root:!0});case 3:o=r.sent,i=o.activePointerDiv,a=o.video,t?(a&&a.pause(),i.style.animationPlayState="paused",clearInterval(s.interval)):n("start");case 7:case"end":return r.stop()}}),r)})))()},paused:function(e,t){var r=e.commit;r("setPaused",t)},closePause:function(e,t){var r=e.commit;r("setClosePause",t)},setTransitionTime:function(e,t){var r=e.commit;r("setTransitionTime",t)}},getters:{paused:function(e){return e.paused},interval:function(e){return e.interval},closePause:function(e){return e.closePause},transitionTime:function(e){return e.transitionTime}}},h=f,x={resizer:u,cookies:p,stories:v,activeStory:g,autoTransition:h},b=x,w=r("53ca"),S=(r("ac1f"),r("466d"),r("d3b7"),r("5319"),{updateURL:function(e){window.location.hash=e},checkURL:function(e){var t=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/;return!!e.match(t)},forEach:function(e){var t=e.array,r=e.callback,n=e.done,s=null;return new Promise((function(e){t.forEach(function(){var o=Object(i["a"])(regeneratorRuntime.mark((function o(i,a){var c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,r(i,a);case 2:c=o.sent,t.length-1==a&&(n&&(s=n(c)),e(s));case 4:case"end":return o.stop()}}),o)})));return function(e,t){return o.apply(this,arguments)}}())}))},isMobile:function(){return window.innerWidth<450&&window.innerWidth},fileToBase64:function(e){return new Promise((function(t,r){if(e){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)}else r(!1)}))},randomKey:function(){return Math.floor(1e6*Math.random())},sleep:function(e){return new Promise((function(t){return setTimeout(t,e)}))},getRealVal:function(e,t){return parseFloat(String(getComputedStyle(e)[t]).replace("px",""))},isElement:function(e){return"object"===("undefined"===typeof HTMLElement?"undefined":Object(w["a"])(HTMLElement))?e instanceof HTMLElement:e&&"object"===Object(w["a"])(e)&&null!==e&&1===e.nodeType&&"string"===typeof e.nodeName}}),$=S;function k(e,t){return new a["a"].Store({devtools:!1,state:{EventBus:t,bpStoryId:e,randomKey:$.randomKey(),isMobile:$.isMobile(),imageEditor:null,controllers:{pause:!1,mute:!0},maxFileSize:5,multiLang:{seeMore:"See More",unsupportedMedia:"Unsupported Media Type",maxFileSizeWarning:"The file you are trying to upload exceeds the maximum allowed file size!",enterURLAddress:"Please enter a URL address!",wantAddURL:"Want to add a URL link to your story?",invalidURL:"You have entered an invalid URL format, please enter a valid URL format.",publish:"Publish",selectNewMedia:"Select new media",close:"Close",createNewStory:"Create new story",confirmDelete:"Are you sure you want to delete your story?",waiting:"Please wait..."},supportedMediaTypes:["mp4","webm","ogg","jpg","jpeg","png","gif","ico","webp"],videoTypes:["mp4","webm","ogg"],imageTypes:["jpg","jpeg","png","gif","ico","webp"]},mutations:{setControllersPause:function(e,t){e.controllers.pause=t},setControllersMute:function(e,t){e.controllers.mute=t},setBpStoryId:function(e,t){e.bpStoryId=t},setIsMobile:function(e,t){e.isMobile=t},setImageEditor:function(e,t){e.imageEditor=t},setRandomKey:function(e,t){e.randomKey=t},setCustomSetting:function(e,t){var r=t.stateName,n=t.newStateData;e[r]=n}},actions:{createStory:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(o["a"])(e);case 1:case"end":return t.stop()}}),t)})))()},randomKey:function(e){var t=e.commit;t("setRandomKey",$.randomKey())},on:function(e,t){var r=e.state,n=t.key,s=t.val;r.EventBus.$on(n,s)},emit:function(e){var t=e.state;t.EventBus.$emit(key,val)},storyBoxOpener:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s,o,i,a,c,u,l,d,p,m,v,y;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return y=function(){c.classList.add("closed"),u.classList.remove("loading"),a.classList.remove("loading"),s.autoTransition.closePause?(n("autoTransition/closePause",!1,{root:!0}),n("autoTransition/start",{},{root:!0}),n("setControllersPause",!1)):s.autoTransition.paused||n("autoTransition/start",{},{root:!0}),n("cookies/setSeen",{activeStoryBox:a,activeStory:p},{root:!0})},n=e.dispatch,s=e.rootState,r.next=4,n("getElements");case 4:o=r.sent,i=o.storyViewer,a=o.activeStoryBox,c=o.loadingAnimation,u=o.storyBoxGeneral,l=o.allStoryBoxes,i.classList.contains("thatClass")||(i.classList.add("opened"),document.querySelector("body").style.overflow="hidden"),a&&a.classList.remove("active"),d=!0,a&&t==a.getAttribute("data-story-box")&&(d=!1),a=i.querySelector(".story-box[data-story-box='"+t+"']"),a.classList.add("active"),p=a.querySelector(".story-item.active"),n("activeStory/setMediaType",p.querySelector("video"),{root:!0}),n("activeStory/setPublishTime",{},{root:!0}),c.classList.remove("closed"),u.classList.add("loading"),a.classList.add("loading"),m=Math.round(l.length/40),0==m&&m++,v=500*m,d?(n("resizer/resizeStoryBoxes",{},{root:!0}),setTimeout((function(){return y()}),v+450)):setTimeout((function(){return y()}),v);case 26:case"end":return r.stop()}}),r)})))()},getElements:function(e){var t=e.state,r=document.getElementById(t.bpStoryId),n=document.querySelector(".bpstory-waiting"),s=document.querySelector(".bpstory-viewer"),o=document.querySelector(".bpstory-creator"),i=o?o.querySelector("#media-uploader"):null,a=s?s.querySelector(".animation-container"):null,c=s?s.querySelector(".viewer-container"):null,u=s?s.querySelector(".story-box-general"):null,l=u.querySelector(".story-box.active"),d=u.querySelectorAll(".story-box:not(.active)"),p=u.querySelectorAll(".story-box"),m=l?l.querySelector(".story-item.active"):null,v=l?l.querySelectorAll(".pointer"):null,y=l?l.querySelector(".pointer.active"):null,g=y?y.querySelector("div"):null,f=m?m.querySelector("video"):null,h=l?l.querySelectorAll(".story-item"):null,x=c.querySelector(".prev-btn"),b=c.querySelector(".next-btn"),w=c.querySelectorAll(".direction-btn"),S=r.querySelector(".story-list"),$=document.querySelector(".video-editor");return{bpStory:r,waiting:n,storyViewer:s,storyCreator:o,mediaUploader:i,viewerContainer:c,storyBoxGeneral:u,allStoryBoxes:p,allStoryBoxesNotActive:d,activeStoryBox:l,allStories:h,activeStory:m,activePointer:y,prevBtn:x,nextBtn:b,directionBtn:w,storyList:S,loadingAnimation:a,video:f,pointers:v,activePointerDiv:g,videoEditor:$}},setControllersPause:function(e,t){var r=e.commit;r("setControllersPause",t)},setControllersMute:function(e,t){var r=e.commit;r("setControllersMute",t)},setBpStoryId:function(e,t){var r=e.commit;r("setBpStoryId",t)},isMobile:function(e){var t=e.commit,r=$.isMobile();return t("setIsMobile",r),r},setImageEditor:function(e,t){var r=e.commit;r("setImageEditor",t)},setCustomSetting:function(e,t){var r=e.commit,n=t.stateName,s=t.newStateData;r("setCustomSetting",{stateName:n,newStateData:s})}},getters:{bpStoryId:function(e){return e.bpStoryId},multiLang:function(e){return e.multiLang},controllers:function(e){return e.controllers},isMobile:function(e){return e.isMobile},supportedMediaTypes:function(e){return e.supportedMediaTypes},imageEditor:function(e){return e.imageEditor},imageTypes:function(e){return e.imageTypes},videoTypes:function(e){return e.videoTypes},randomKey:function(e){return e.randomKey},maxFileSize:function(e){return e.maxFileSize}},modules:b})}s["a"].use(a["a"]);var B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{key:e.$root.bpStoryId,staticClass:"bpstory-container",attrs:{id:e.$root.bpStoryId}},[e.loaded?r("div",[e.stories?r("storyList",{key:e.randomKey,attrs:{stories:e.stories}}):e._e(),e.stories?r("storyViewer",{key:e.randomKey+10,attrs:{stories:e.stories}}):e._e(),e.showCreator()&&e.stories?r("storyCreator"):e._e(),e.message?r("div",[e._v(" "+e._s(e.message)+" ")]):e._e()],1):r("div",[r("contentLoader")],1)])},L=[],C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"story-list-wrapper"},[r("ul",{staticClass:"story-list"},e._l(e.stories,(function(e,t){return r("listItem",{key:t,attrs:{story:e}})})),1)])},R=[],E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.showItem()?r("li",{staticClass:"list-item",class:e.seen?"seen":"",attrs:{"data-story-box":e.story.storyBox},on:{click:function(t){t.preventDefault(),e.haveStory()?e.$store.dispatch("storyBoxOpener",e.story.storyBox):e.mediaUploader.click()}}},[r("div",[r("div",{staticClass:"list-item-image",class:e.haveStory()?"":"not-story"},[r("img",{attrs:{src:e.story.storyBoxImage,alt:e.story.storyBox}})]),e.haveStory()?e._e():r("div",[r("createStoryIcon")],1),r("div",{staticClass:"list-item-story-box"},[e._v(" "+e._s(e.story.storyBox)+" ")])])]):e._e()},T=[],I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create-icon"},[r("svg",{attrs:{height:"12px",viewBox:"0 0 448 448",width:"12px",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"m408 184h-136c-4.417969 0-8-3.582031-8-8v-136c0-22.089844-17.910156-40-40-40s-40 17.910156-40 40v136c0 4.417969-3.582031 8-8 8h-136c-22.089844 0-40 17.910156-40 40s17.910156 40 40 40h136c4.417969 0 8 3.582031 8 8v136c0 22.089844 17.910156 40 40 40s40-17.910156 40-40v-136c0-4.417969 3.582031-8 8-8h136c22.089844 0 40-17.910156 40-40s-17.910156-40-40-40zm0 0"}})])])},O=[],_={name:"createStory"},j=_,M=(r("0e4a"),r("2877")),P=Object(M["a"])(j,I,O,!1,null,"5789b307",null),A=P.exports,U={name:"listItem",components:{createStoryIcon:A},props:["story"],data:function(){return{mediaUploader:null,seen:!1}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getElements");case 2:if(r=t.sent,n=r.mediaUploader,e.mediaUploader=n,!e.story.currentUser||0!=e.story.storyItems.length){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.$store.dispatch("cookies/get","seen");case 9:s=t.sent,s&&s[e.story.storyBox]&&s[e.story.storyBox].seen&&(e.seen=!0);case 11:case"end":return t.stop()}}),t)})))()},methods:{showItem:function(){return this.$root.options&&!this.$root.options.creator?0!=this.story.storyItems.length:!!this.story.currentUser||0!=this.story.storyItems.length},haveStory:function(){return!(!this.$root.options||this.$root.options.creator)||(!this.story.currentUser||0!=this.story.storyItems.length)}}},q=U,z=(r("f980"),Object(M["a"])(q,E,T,!1,null,"2fb2f32d",null)),D=z.exports,N={name:"storyList",props:["stories"],components:{listItem:D},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=120,t.next=3,e.$store.dispatch("getElements");case 3:n=t.sent,s=n.storyList,s.addEventListener("wheel",(function(e){e.preventDefault();var t=e.detail?e.detail*-r:e.wheelDelta,n=s.scrollLeft;n+=t>0?-r:r,s.scrollLeft=n}));case 6:case"end":return t.stop()}}),t)})))()}},V=N,W=(r("cdb6"),Object(M["a"])(V,C,R,!1,null,"e2da3008",null)),F=W.exports,K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bpstory-viewer"},[r("loadingAnimation"),r("div",{staticClass:"close-btn",on:{click:e.closeViewer}}),r("div",{staticClass:"viewer-container"},[r("directionButtons"),r("div",{staticClass:"story-box-general"},e._l(e.stories,(function(e,t){return r("storyBox",{key:t,attrs:{index:t,story:e}})})),1)],1)],1)},H=[],G=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Y=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"animation-container closed"},[r("div",{staticClass:"loading-animation"},[r("div",{staticClass:"animation-wrapper"},[r("div",{staticClass:"animation-dot-wrapper"},[r("div",{staticClass:"animation-dot"}),r("div",{staticClass:"animation-dot"}),r("div",{staticClass:"animation-dot"}),r("div",{staticClass:"animation-dot"}),r("div",{staticClass:"animation-dot"}),r("div",{staticClass:"animation-dot"})])])])])}],J={name:"loadingAnimation"},Z=J,Q=(r("3a70"),Object(M["a"])(Z,G,Y,!1,null,"35c8bc25",null)),X=Q.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("button",{staticClass:"direction-btn prev-btn",on:{click:function(t){return e.directionBtnClick(!1)}}},[r("prevBtnIcon")],1),r("button",{staticClass:"direction-btn next-btn",on:{click:function(t){return e.directionBtnClick(!0)}}},[r("nextBtnIcon")],1)])},te=[],re=(r("a630"),r("3ca3"),r("c740"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{staticStyle:{"enable-background":"new 0 0 792.082 792.082"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"14px",height:"14px",viewBox:"0 0 792.082 792.082","xml:space":"preserve"}},[r("g",[r("g",[r("g",[r("path",{attrs:{d:"M317.896,396.024l304.749-276.467c27.36-27.36,27.36-71.677,0-99.037s-71.677-27.36-99.036,0L169.11,342.161c-14.783,14.783-21.302,34.538-20.084,53.897c-1.218,19.359,5.301,39.114,20.084,53.897l354.531,321.606c27.36,27.36,71.677,27.36,99.037,0s27.36-71.677,0-99.036L317.896,396.024z"}})])])]),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g")])}),ne=[],se={name:"prevBtn"},oe=se,ie=Object(M["a"])(oe,re,ne,!1,null,null,null),ae=ie.exports,ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{staticStyle:{"enable-background":"new 0 0 792.049 792.049"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"14px",height:"14px",viewBox:"0 0 792.049 792.049","xml:space":"preserve"}},[r("g",[r("g",[r("g",[r("path",{attrs:{d:"M622.955,342.127L268.424,20.521c-27.36-27.36-71.677-27.36-99.037,0c-27.36,27.36-27.36,71.676,0,99.037l304.749,276.468L169.387,672.492c-27.36,27.359-27.36,71.676,0,99.036s71.677,27.36,99.037,0l354.531-321.606c14.783-14.783,21.302-34.538,20.084-53.897C644.225,376.665,637.738,356.911,622.955,342.127z"}})])])]),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g")])},ue=[],le={name:"nextBtn"},de=le,pe=Object(M["a"])(de,ce,ue,!1,null,null,null),me=pe.exports,ve={name:"directionButtons",components:{prevBtnIcon:ae,nextBtnIcon:me},created:function(){var e=this;this.$root.EventBus.$on("directionBtnClick",(function(t){e.directionBtnClick(t)}))},methods:{directionBtnClick:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s,o,i,a,c,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("getElements");case 2:n=r.sent,s=n.activeStory,o=n.allStories,t.seenAudit(e),i=Array.from(o),a=i.findIndex((function(e){return e==s})),c=0,e&&(c=o.length-1),u=a!=c,u?t.storyTransition(e):t.storyBoxTransition(e);case 12:case"end":return r.stop()}}),r)})))()},seenAudit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s,o,i,a,c,u,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("getElements");case 2:n=r.sent,s=n.activeStory,o=n.activeStoryBox,e?(i=o.nextSibling,a=s.nextSibling):(i=o.previousSibling,a=s.previousSibling),bpStory.isElement(a)?(c=a,t.$store.dispatch("cookies/setSeen",{activeStoryBox:o,activeStory:c})):bpStory.isElement(i)&&(u=i,l=u.querySelector(".story-item.active"),t.$store.dispatch("cookies/setSeen",{activeStoryBox:u,activeStory:l}));case 7:case"end":return r.stop()}}),r)})))()},transitionProcess:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,o,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.$store.dispatch("getElements");case 2:s=n.sent,o=s.nextBtn,i=s.prevBtn,a=s.video,a&&a.pause(),r.$store.dispatch("activeStory/setMediaType",a),0==e?r.disabledAutoTransition(t):1==e&&(t?(o.setAttribute("disabled","disabled"),i.setAttribute("disabled","disabled"),r.disabledAutoTransition(t)):setTimeout((function(){o.removeAttribute("disabled"),i.removeAttribute("disabled"),r.disabledAutoTransition(t)}),350)),t||r.$store.dispatch("activeStory/setPublishTime");case 10:case"end":return n.stop()}}),n)})))()},disabledAutoTransition:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$store.getters["autoTransition/paused"]||t.$store.dispatch("autoTransition/disabled",e);case 1:case"end":return r.stop()}}),r)})))()},storyBoxTransition:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s,o,i,a,c,u,l,d,p;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("getElements");case 2:if(n=r.sent,s=n.storyBoxGeneral,o=n.activeStoryBox,i=n.pointers,a=bpStory.getRealVal(s,"margin-left"),c=t.$store.getters["resizer/notActiveStoryBoxWidth"],u=t.$store.getters["resizer/activeStoryBoxWidth"],!e){r.next=16;break}if(bpStory.isElement(o.nextSibling)){r.next=12;break}return r.abrupt("return");case 12:l=o.nextSibling,t.$store.dispatch("activeStory/reset"),r.next=20;break;case 16:if(i.forEach((function(e){e.classList.remove("seen"),e.classList.remove("stop")})),bpStory.isElement(o.previousSibling)){r.next=19;break}return r.abrupt("return");case 19:l=o.previousSibling;case 20:t.transitionProcess(1,!0),o.style.width=c+"px",l.style.width=u+"px",o.classList.remove("active"),l.classList.add("active"),e?(d=l.querySelector(".pointer.active"),t.$store.getters["autoTransition/paused"]&&d.classList.add("stop"),s.style.marginLeft=parseInt(a)-(c+40)+"px"):(p=l.querySelectorAll(".pointer"),p[p.length-1].classList.remove("seen"),s.style.marginLeft=parseInt(a)+(c+40)+"px"),t.transitionProcess(1,!1);case 27:case"end":return r.stop()}}),r)})))()},storyTransition:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s,o,i,a,c,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("getElements");case 2:n=r.sent,s=n.activeStoryBox,o=n.activeStory,i=n.activePointer,t.transitionProcess(0,!0),a=e?o.nextSibling:o.previousSibling,c=a.getAttribute("data-story-id"),u=s.querySelector(".pointer[data-story-id='"+c+"']"),t.$store.getters["autoTransition/paused"]&&(i.classList.remove("stop"),u.classList.add("stop")),i.classList.remove("active"),u.classList.add("active"),o.classList.remove("active"),a.classList.add("active"),e?i.classList.add("seen"):(u.classList.remove("seen"),i.classList.remove("seen")),t.transitionProcess(0,!1);case 17:case"end":return r.stop()}}),r)})))()}}},ye=ve,ge=(r("d730"),Object(M["a"])(ye,ee,te,!1,null,"57145663",null)),fe=ge.exports,he=function(){var e=this,t=e.$createElement,r=e._self._c||t;return 0!=e.story.storyItems.length?r("div",{staticClass:"story-box",attrs:{"data-order":e.index,"data-story-box":e.story.storyBox}},[r("storyBoxOpener",{attrs:{story:e.story}}),r("div",{staticClass:"story-box-header"},[r("pointers",{attrs:{story:e.story}}),r("storyInfo",{attrs:{story:e.story}}),r("headerMenu",{attrs:{story:e.story}})],1),r("div",{staticClass:"story-item-wrapper"},e._l(e.story.storyItems,(function(t,n){return r("div",{key:n,staticClass:"story-item",class:e.getStatusByCookies(e.story.storyBox,t,n),attrs:{"data-order":n,"data-story-id":t.storyId,"data-publish-time":t.publishTime,"data-transition-time":t.transitionTime}},[e.imageTypes.includes(e.parsMediaType(t.mediaURL))?r("div",{staticClass:"story-item-content"},[r("img",{attrs:{src:t.mediaURL,alt:t.mediaURL}})]):r("div",{staticClass:"story-item-content"},[r("video",{attrs:{src:t.mediaURL,muted:""},domProps:{muted:!0}})]),t.externalURL?r("div",{staticClass:"story-item-footer"},[r("a",{attrs:{href:t.externalURL,alt:e.$store.getters.multiLang.seeMore},on:{click:function(r){return r.preventDefault(),e.openLink(t.externalURL)}}},[e._v(" "+e._s(e.$store.getters.multiLang.seeMore)+" > ")])]):e._e()])})),0)],1):e._e()},xe=[],be=(r("1276"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pointers"},e._l(e.story.storyItems,(function(t,n){return r("div",{key:n,staticClass:"pointer",class:e.getStatusByCookies(e.story.storyBox,t,n),attrs:{"data-order":n,"data-story-id":t.storyId}},[r("div")])})),0)}),we=[],Se={name:"pointers",props:["story"],data:function(){return{activeStory:!1,seenCookie:null}},mounted:function(){if(!this.activeStory){var e=document.getElementById(this.$root.bpStoryId),t=e.querySelector('.story-box[data-story-box="'+this.story.storyBox+'"]'),r=t.querySelector(".pointer[data-order='0']");r.classList.add("active"),r.classList.add("stop"),r.classList.remove("seen")}},beforeCreate:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("cookies/get","seen");case 2:r=t.sent,e.seenCookie=r;case 4:case"end":return t.stop()}}),t)})))()},methods:{getStatusByCookies:function(e,t,r){var n="";if(this.activeStory&&this.activeStory==t.storyId)return"active stop ";var s=this.seenCookie;if(s&&s[e]){var o=s[e];o.activeStoryId==t.storyId?n+="active stop ":this.activeStory||o.activeStoryOrder!=r?n+=r<o.activeStoryOrder?"seen ":"":n+="active stop "}else 0==r&&(n+="active stop ");return-1!==n.indexOf("active")&&(this.activeStory=t.storyId),n}}},$e=Se,ke=(r("5b00"),Object(M["a"])($e,be,we,!1,null,"3c9dcdce",null)),Be=ke.exports,Le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"story-info"},[this.$root.options&&this.$root.options.storyBoxRedirectURL?r("div",[r("a",{staticClass:"user-profile",attrs:{href:e.createStoryBoxRedirectURL(e.story.storyBox)}},[r("img",{attrs:{src:e.story.storyBoxImage,alt:e.story.storyBox}}),r("span",[e._v(e._s(e.story.storyBox))])])]):r("div",[r("div",{staticClass:"user-profile"},[r("img",{attrs:{src:e.story.storyBoxImage,alt:e.story.storyBox}}),r("span",[e._v(e._s(e.story.storyBox))])])]),r("div",{staticClass:"publish-time"})])},Ce=[],Re=(r("8a79"),{name:"storyInfo",props:["story"],methods:{createStoryBoxRedirectURL:function(e){var t=this.$root.options.storyBoxRedirectURL;return t+=t.endsWith("/")?"":"/",t+e}}}),Ee=Re,Te=(r("01a1"),Object(M["a"])(Ee,Le,Ce,!1,null,"7a10b916",null)),Ie=Te.exports,Oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header-menu"},[e.story.currentUser&&e.$root.options&&e.$root.options.creator?r("div",{staticClass:"delete-my-story",on:{click:e.deleteMyStory}},[r("div",{staticClass:"icon-box"},[r("deleteIcon")],1)]):e._e(),r("div",{staticClass:"movement"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.$store.getters.controllers.pause,expression:"$store.getters.controllers.pause"}],staticClass:"icon-box play",on:{click:function(t){return e.pause(!1)}}},[r("playIcon")],1),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.$store.getters.controllers.pause,expression:"!$store.getters.controllers.pause"}],staticClass:"icon-box pause",on:{click:function(t){return e.pause(!0)}}},[r("pauseIcon")],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:"video"==e.$store.getters["activeStory/mediaType"],expression:"$store.getters['activeStory/mediaType'] == 'video'"}],staticClass:"sound"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.$store.getters.controllers.mute,expression:"!$store.getters.controllers.mute"}],staticClass:"icon-box audible",on:{click:function(t){return e.mute(!0)}}},[r("audibleIcon")],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.$store.getters.controllers.mute,expression:"$store.getters.controllers.mute"}],staticClass:"icon-box mute",on:{click:function(t){return e.mute(!1)}}},[r("muteIcon")],1)]),e.showCreator()?r("div",{staticClass:"menu-btn",on:{click:function(t){e.showMenu=!0}}},[r("div",{staticClass:"icon-box"},[r("menuBtnIcon")],1)]):e._e(),e.showCreator()?r("div",{staticClass:"modal-menu",class:e.showMenu?"opened":""},[r("ul",{staticClass:"modal-menu-list"},[e.showCreator()?r("li",{on:{click:e.createNewStory}},[e._v(" "+e._s(e.$store.getters.multiLang.createNewStory)+" ")]):e._e(),r("li",{on:{click:function(t){e.showMenu=!1}}},[e._v(e._s(e.$store.getters.multiLang.close))])])]):e._e()])},_e=[],je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{staticStyle:{"enable-background":"new 0 0 512 512"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"18px",height:"18px",fill:"#fff",viewBox:"0 0 512 512","xml:space":"preserve"}},[r("g",[r("g",[r("path",{attrs:{d:"M358.414,21.311c-7.592-3.316-16.435,0.15-19.752,7.74c-3.316,7.59,0.148,16.434,7.739,19.75C428.771,84.793,481.996,166.123,482,255.996c0,89.877-53.228,171.209-135.605,207.201c-7.592,3.316-11.057,12.16-7.74,19.752c2.463,5.637,7.973,8.998,13.754,8.998c2.004,0,4.043-0.404,5.998-1.26C451.711,449.92,512,357.799,512,255.994C511.996,154.197,451.709,62.078,358.414,21.311z"}})])]),r("g",[r("g",[r("path",{attrs:{d:"M362.412,137.052c-6.172-5.525-15.654-5.002-21.181,1.17c-5.525,6.174-5.001,15.656,1.171,21.182c27.452,24.574,43.197,59.781,43.197,96.594s-15.745,72.018-43.197,96.594c-6.172,5.525-6.696,15.008-1.171,21.18c2.963,3.311,7.063,4.996,11.181,4.996c3.563,0,7.138-1.262,10-3.824c33.801-30.258,53.188-73.613,53.188-118.947S396.213,167.309,362.412,137.052z"}})])]),r("g",[r("g",[r("path",{attrs:{d:"M262.779,57.85c-5.041-2.555-11.092-2.057-15.65,1.285l-116.54,85.461H15c-8.284,0-15,6.715-15,15v192.801c0,8.283,6.716,15,15,15h115.589l116.54,85.463c2.623,1.924,5.738,2.904,8.872,2.904c2.314,0,4.638-0.535,6.778-1.621c5.043-2.555,8.221-7.727,8.221-13.379V71.231C271,65.578,267.822,60.404,262.779,57.85z"}})])]),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g")])},Me=[],Pe={name:"audible"},Ae=Pe,Ue=Object(M["a"])(Ae,je,Me,!1,null,null,null),qe=Ue.exports,ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{staticStyle:{"enable-background":"new 0 0 511.999 511.999"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"18px",height:"18px",fill:"#fff",viewBox:"0 0 511.999 511.999","xml:space":"preserve"}},[r("g",[r("g",[r("path",{attrs:{d:"M262.781,57.853c-5.043-2.556-11.093-2.058-15.652,1.284L130.59,144.6H15c-8.285,0-15,6.716-15,15v192.801c0,8.284,6.715,15,15,15h115.59l116.54,85.461c2.622,1.924,5.737,2.904,8.872,2.904c2.312,0,4.636-0.535,6.779-1.62c5.041-2.555,8.219-7.728,8.219-13.38V71.233C271,65.581,267.822,60.408,262.781,57.853z"}})])]),r("g",[r("g",[r("path",{attrs:{d:"M445.912,256.004l61.693-61.693c5.859-5.857,5.859-15.355,0-21.213c-5.857-5.857-15.353-5.857-21.213,0l-61.693,61.693l-61.693-61.693c-5.858-5.857-15.354-5.857-21.213,0c-5.857,5.857-5.857,15.355,0,21.213l61.693,61.693l-61.693,61.693c-5.857,5.857-5.857,15.355,0,21.213c2.93,2.929,6.768,4.393,10.607,4.393c3.838,0,7.678-1.465,10.605-4.393l61.693-61.693l61.693,61.693c2.93,2.929,6.768,4.393,10.607,4.393c3.838,0,7.678-1.465,10.605-4.393c5.859-5.858,5.859-15.355,0-21.213L445.912,256.004z"}})])]),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g")])},De=[],Ne={name:"mute"},Ve=Ne,We=Object(M["a"])(Ve,ze,De,!1,null,null,null),Fe=We.exports,Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{staticStyle:{"enable-background":"new 0 0 163.861 163.861"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"14px",height:"14px",fill:"#fff",viewBox:"0 0 163.861 163.861","xml:space":"preserve"}},[r("g",[r("path",{attrs:{d:"M34.857,3.613C20.084-4.861,8.107,2.081,8.107,19.106v125.637c0,17.042,11.977,23.975,26.75,15.509L144.67,97.275c14.778-8.477,14.778-22.211,0-30.686L34.857,3.613z"}})]),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g")])},He=[],Ge={name:"play"},Ye=Ge,Je=Object(M["a"])(Ye,Ke,He,!1,null,null,null),Ze=Je.exports,Qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{staticStyle:{"enable-background":"new 0 0 47.607 47.607"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"14px",height:"14px",fill:"#fff",viewBox:"0 0 47.607 47.607","xml:space":"preserve"}},[r("g",[r("path",{attrs:{d:"M17.991,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C4.729,2.969,7.698,0,11.36,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z"}}),r("path",{attrs:{d:"M42.877,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C29.616,2.969,32.585,0,36.246,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z"}})]),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g")])},Xe=[],et={name:"pause"},tt=et,rt=Object(M["a"])(tt,Qe,Xe,!1,null,null,null),nt=rt.exports,st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"18px",height:"18px",viewBox:"0 0 992 992",fill:"#fff","xml:space":"preserve"}},[r("g",[r("circle",{attrs:{cx:"144.3",cy:"496",r:"144.3"}}),r("circle",{attrs:{cx:"496",cy:"496",r:"144.3"}}),r("circle",{attrs:{cx:"847.7",cy:"496",r:"144.3"}})]),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g")])},ot=[],it={name:"menuBtn"},at=it,ct=Object(M["a"])(at,st,ot,!1,null,null,null),ut=ct.exports,lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{fill:"#fff",height:"16px",viewBox:"0 0 512 512",width:"16px",xmlns:"http://www.w3.org/2000/svg"}},[r("g",[r("path",{attrs:{d:"m424 64h-88v-16c0-26.51-21.49-48-48-48h-64c-26.51 0-48 21.49-48 48v16h-88c-22.091 0-40 17.909-40 40v32c0 8.837 7.163 16 16 16h384c8.837 0 16-7.163 16-16v-32c0-22.091-17.909-40-40-40zm-216-16c0-8.82 7.18-16 16-16h64c8.82 0 16 7.18 16 16v16h-96z"}}),r("path",{attrs:{d:"m78.364 184c-2.855 0-5.13 2.386-4.994 5.238l13.2 277.042c1.22 25.64 22.28 45.72 47.94 45.72h242.98c25.66 0 46.72-20.08 47.94-45.72l13.2-277.042c.136-2.852-2.139-5.238-4.994-5.238zm241.636 40c0-8.84 7.16-16 16-16s16 7.16 16 16v208c0 8.84-7.16 16-16 16s-16-7.16-16-16zm-80 0c0-8.84 7.16-16 16-16s16 7.16 16 16v208c0 8.84-7.16 16-16 16s-16-7.16-16-16zm-80 0c0-8.84 7.16-16 16-16s16 7.16 16 16v208c0 8.84-7.16 16-16 16s-16-7.16-16-16z"}})])])},dt=[],pt={name:"delete"},mt=pt,vt=Object(M["a"])(mt,lt,dt,!1,null,null,null),yt=vt.exports,gt={name:"headerMenu",components:{audibleIcon:qe,muteIcon:Fe,playIcon:Ze,pauseIcon:nt,menuBtnIcon:ut,deleteIcon:yt},props:["story"],data:function(){return{showMenu:!1,paused:!1}},watch:{showMenu:function(e){this.pausedIsFalsePause(e)}},methods:{showCreator:function(){return!!(this.$root.options&&this.$root.options.creator&&this.$store.getters["stories/getList"][0].currentUser)},pausedIsFalsePause:function(e){this.paused||(this.$store.dispatch("setControllersPause",e),this.$store.dispatch("autoTransition/disabled",e),e&&this.$store.dispatch("autoTransition/paused",!0))},deleteMyStory:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.pausedIsFalsePause(!0),setTimeout(Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s,o,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=confirm(e.$store.getters.multiLang.confirmDelete),e.pausedIsFalsePause(!1),!r){t.next=12;break}return t.next=5,e.$store.dispatch("getElements");case 5:n=t.sent,s=n.activeStory,o=n.activePointer,a=s.getAttribute("data-story-id"),c=new FormData,c.append("storyId",a),e.axios.post(BPSTORY_API_URL+"?action=deleteMyStory",c).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=r.data,n.message&&alert(n.message),n.success&&(i=!0,bpStory.isElement(s.nextSibling)?e.$root.EventBus.$emit("directionBtnClick",!0):bpStory.isElement(s.previousSibling)?e.$root.EventBus.$emit("directionBtnClick",!1):(i=!1,e.$root.EventBus.$emit("closeViewer"),setTimeout((function(){return e.$root.EventBus.$emit("refresh")}),150)),i&&setTimeout((function(){s.remove(),o.remove()}),100));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){e.response.data.message&&alert(e.response.data.message)}));case 12:case"end":return t.stop()}}),t)}))),100);case 2:case"end":return t.stop()}}),t)})))()},createNewStory:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getElements");case 2:if(r=t.sent,n=r.mediaUploader,n){t.next=6;break}return t.abrupt("return");case 6:e.showMenu=!1,setTimeout((function(){n.click(),e.$root.EventBus.$emit("closeViewer")}),100);case 8:case"end":return t.stop()}}),t)})))()},pause:function(e){this.paused=e,this.$store.dispatch("setControllersPause",e),this.$store.dispatch("autoTransition/disabled",e),e&&this.$store.dispatch("autoTransition/paused",!0)},mute:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("getElements");case 2:n=r.sent,s=n.video,s.muted=e,t.$store.dispatch("setControllersMute",e);case 6:case"end":return r.stop()}}),r)})))()}}},ft=gt,ht=(r("abd4"),Object(M["a"])(ft,Oe,_e,!1,null,"321bf089",null)),xt=ht.exports,bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"story-box-opener-container"},[r("div",{staticClass:"story-box-opener",class:e.seen?"seen":"",attrs:{"data-story-box":e.story.storyBox},on:{click:function(t){return t.preventDefault(),e.storyBoxOpener(e.story.storyBox)}}},[r("div",[r("div",{staticClass:"user-image"},[r("img",{attrs:{src:e.story.storyBoxImage,alt:e.story.storyBox}})]),r("div",{staticClass:"story-box-name"},[e._v(" "+e._s(e.story.storyBox)+" ")])]),r("span",[e._v(e._s(e.story.lastStoryPublishTime))])])])},wt=[],St={name:"storyBoxOpener",props:["story"],data:function(){return{seen:!1}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("cookies/get","seen");case 2:r=t.sent,r&&r[e.story.storyBox]&&r[e.story.storyBox].seen&&(e.seen=!0);case 4:case"end":return t.stop()}}),t)})))()},methods:{storyBoxOpener:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$store.dispatch("activeStory/hasSeen"),t.$store.dispatch("activeStory/reset"),t.$store.dispatch("storyBoxOpener",e);case 3:case"end":return r.stop()}}),r)})))()}}},$t=St,kt=(r("cb2e"),Object(M["a"])($t,bt,wt,!1,null,"2b252825",null)),Bt=kt.exports,Lt={name:"storyBox",components:{storyBoxOpener:Bt,headerMenu:xt,storyInfo:Ie,pointers:Be},data:function(){return{imageTypes:["jpg","jpeg","png","gif","ico","webp"],activeStory:!1,seenCookie:null}},props:["index","story"],mounted:function(){var e=document.getElementById(this.$root.bpStoryId);if(!this.activeStory){var t=e.querySelector('.story-box[data-story-box="'+this.story.storyBox+'"]');t&&t.querySelector(".story-item:first-child").classList.add("active")}},beforeCreate:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("cookies/get","seen");case 2:r=t.sent,e.seenCookie=r;case 4:case"end":return t.stop()}}),t)})))()},methods:{parsMediaType:function(e){return e=e.split("."),e[e.length-1]},openLink:function(e){this.$store.dispatch("setControllersPause",!0),this.$store.dispatch("autoTransition/disabled",!0),this.$store.dispatch("autoTransition/paused",!0),window.open(e,"_blank")},getStatusByCookies:function(e,t,r){var n="";if(this.activeStory&&this.activeStory==t.storyId)return"active";var s=this.seenCookie;if(s&&s[e]){var o=s[e];o.activeStoryId==t.storyId?n+="active":this.activeStory||o.activeStoryOrder!=r||(n+="active")}else 0==r&&(n+="active");return-1!==n.indexOf("active")&&(this.activeStory=t.storyId),n}}},Ct=Lt,Rt=(r("14f1"),Object(M["a"])(Ct,he,xe,!1,null,"93c5fe26",null)),Et=Rt.exports,Tt={name:"storyViewer",props:["stories"],components:{loadingAnimation:X,directionButtons:fe,storyBox:Et},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getElements");case 2:r=t.sent,n=r.storyBoxGeneral,s=r.allStoryBoxes,n.style.width=375*s.length+"px",window.addEventListener("resize",(function(){e.$store.dispatch("resizer/resizeStoryBoxes")})),e.$store.dispatch("resizer/resizeStoryBoxes"),e.$root.EventBus.$on("closeViewer",e.closeViewer),document.querySelector("body > .bpstory-viewer")&&document.querySelector("body > .bpstory-viewer").remove(),document.body.appendChild(e.$el);case 11:case"end":return t.stop()}}),t)})))()},methods:{closeViewer:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getElements");case 2:r=t.sent,n=r.storyViewer,n.classList.remove("opened"),e.$store.dispatch("activeStory/hasSeen"),e.$store.dispatch("stories/orderByCookies"),e.$store.dispatch("activeStory/reset"),e.$store.dispatch("resizer/resizeStoryBoxesTimer",1e3),document.querySelector("body").style.overflow="visible";case 10:case"end":return t.stop()}}),t)})))()}}},It=Tt,Ot=(r("ee65"),Object(M["a"])(It,K,H,!1,null,"6359714a",null)),_t=Ot.exports,jt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bpstory-creator"},[e.$store.getters["stories/getList"][0].currentUser?r("div",[r("div",{staticClass:"creator-buttons"},[r("div",{staticClass:"select-new-media"},[e._v(e._s(e.$store.getters.multiLang.selectNewMedia))]),r("div",{staticClass:"publish-btn"},[e._v(e._s(e.$store.getters.multiLang.publish))])]),r("div",{staticClass:"close-btn",on:{click:e.closeCreator}}),r("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"media-uploader",hidden:"",accept:e.supportedMediaTypes()}}),r("imageEditor"),r("videoEditor")],1):e._e()])},Mt=[],Pt=(r("a15b"),r("b0c0"),r("caad"),r("2532"),r("ddb0"),r("2b3d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ImageEditor",{ref:"imageEditor",attrs:{"include-ui":e.useDefaultUI,options:e.options}})}),At=[],Ut=(r("5ff5"),r("741a"),r("36d6")),qt={name:"imageEditor",components:{ImageEditor:Ut["a"]},data:function(){return{useDefaultUI:!0,options:{cssMaxHeight:350}}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("setImageEditor",e.$refs.imageEditor),document.querySelector(".tui-image-editor-header-logo").style.display="none",document.querySelector(".tui-image-editor-header-buttons").innerHTML="";case 3:case"end":return t.stop()}}),t)})))()}},zt=qt,Dt=(r("a267"),Object(M["a"])(zt,Pt,At,!1,null,null,null)),Nt=Dt.exports,Vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"video-editor closed"},[r("video",{attrs:{muted:"",controls:""},domProps:{muted:!0}})])},Wt=[],Ft={name:"videoEditor"},Kt=Ft,Ht=(r("6c8a"),Object(M["a"])(Kt,Vt,Wt,!1,null,"b466ebc2",null)),Gt=Ht.exports,Yt={name:"storyCreator",components:{videoEditor:Gt,imageEditor:Nt},data:function(){return{mediaType:null}},methods:{closeCreator:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getElements");case 2:r=t.sent,n=r.storyCreator,s=r.mediaUploader,n.classList.remove("opened"),s.value="",document.querySelector("body").style.overflow="visible";case 8:case"end":return t.stop()}}),t)})))()},supportedMediaTypes:function(){var e=this.$store.getters.supportedMediaTypes;return e="."+e.join(",."),e},checkURL:function(){var e=prompt(this.$store.getters.multiLang.enterURLAddress);return null!=e&&(bpStory.checkURL(e)?e:(alert(this.$store.getters.multiLang.invalidURL),void this.checkURL()))}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getElements");case 2:if(r=t.sent,n=r.mediaUploader,s=r.storyCreator,n){t.next=7;break}return t.abrupt("return");case 7:n.addEventListener("change",Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s,o,i,a,c,u,l,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getElements");case 2:if(r=t.sent,n=r.mediaUploader,s=r.storyCreator,o=r.videoEditor,n.value){t.next=8;break}return t.abrupt("return");case 8:if(i=String(n.value).split("."),a=i[i.length-1].toLowerCase(),e.mediaType=a,c=n.files[0],u=c.name.toLowerCase(),u=u.replace("."+a,""),l=c.size,e.$store.getters.supportedMediaTypes.includes(a)){t.next=21;break}return alert(e.$store.getters.multiLang.unsupportedMedia),n.value="",t.abrupt("return");case 21:l>1024*e.$store.getters.maxFileSize*1024?(alert(e.$store.getters.multiLang.maxFileSizeWarning),n.value=""):(d=e.$store.getters.imageEditor.getRootElement(),e.$store.getters.imageTypes.includes(a)?(e.$store.getters.imageEditor.invoke("loadImageFromFile",c,u),e.$store.getters.imageEditor.invoke("ui.activeMenuEvent")):(p=o.querySelector("video"),p.src=URL.createObjectURL(c),o.classList.remove("closed"),d.style.display="none"),document.querySelector("body").style.overflow="hidden",s.classList.add("opened"));case 22:case"end":return t.stop()}}),t)})))),s.querySelector(".select-new-media").addEventListener("click",Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getElements");case 2:r=t.sent,n=r.mediaUploader,n.click();case 5:case"end":return t.stop()}}),t)})))),s.querySelector(".publish-btn").addEventListener("click",Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s,o,i,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getElements");case 2:if(r=t.sent,n=r.mediaUploader,s=r.waiting,o=new FormData,!e.$store.getters.imageTypes.includes(e.mediaType)){t.next=10;break}i=document.querySelector(".lower-canvas").toDataURL(),t.next=13;break;case 10:return t.next=12,bpStory.fileToBase64(n.files[0]);case 12:i=t.sent;case 13:o.append("media",i),a=confirm(e.$store.getters.multiLang.wantAddURL),a&&(c=e.checkURL(),c&&o.append("externalURL",c)),s.classList.add("opened"),e.axios.post(BPSTORY_API_URL+"?action=createNewStory",o).then((function(t){var r=t.data;r.message&&alert(r.message),r.success&&(e.$root.EventBus.$emit("refresh"),e.closeCreator())})).catch((function(e){e.response.data.message&&alert(e.response.data.message)})).then((function(){s.classList.remove("opened")}));case 18:case"end":return t.stop()}}),t)})))),document.querySelector("body > .bpstory-creator")&&document.querySelector("body > .bpstory-creator").remove(),document.body.appendChild(e.$el);case 12:case"end":return t.stop()}}),t)})))()}},Jt=Yt,Zt=(r("292a"),Object(M["a"])(Jt,jt,Mt,!1,null,"25a451a1",null)),Qt=Zt.exports,Xt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content-loader"},e._l(8,(function(e){return r("svg",{key:e,attrs:{role:"img",width:"67",height:"87","aria-labelledby":"loading-aria",viewBox:"0 0 67 87",preserveAspectRatio:"none"}},[r("rect",{staticStyle:{fill:'url("#fill")'},attrs:{x:"0",y:"0",width:"100%",height:"100%","clip-path":"url(#clip-path)"}}),r("defs",[r("clipPath",{attrs:{id:"clip-path"}},[r("rect",{attrs:{x:"6",y:"70",rx:"3",ry:"3",width:"52",height:"6"}}),r("circle",{attrs:{cx:"32",cy:"35",r:"25"}})]),r("linearGradient",{attrs:{id:"fill"}},[r("stop",{attrs:{offset:"0.599964","stop-color":"#c0c0c0","stop-opacity":"1"}},[r("animate",{attrs:{attributeName:"offset",values:"-2; -2; 1",keyTimes:"0; 0.25; 1",dur:"2s",repeatCount:"indefinite"}})]),r("stop",{attrs:{offset:"1.59996","stop-color":"#ffffff","stop-opacity":"1"}},[r("animate",{attrs:{attributeName:"offset",values:"-1; -1; 2",keyTimes:"0; 0.25; 1",dur:"2s",repeatCount:"indefinite"}})]),r("stop",{attrs:{offset:"2.59996","stop-color":"#c0c0c0","stop-opacity":"1"}},[r("animate",{attrs:{attributeName:"offset",values:"0; 0; 3",keyTimes:"0; 0.25; 1",dur:"2s",repeatCount:"indefinite"}})])],1)],1)])})),0)},er=[],tr={name:"contentLoader"},rr=tr,nr=(r("d9d3"),Object(M["a"])(rr,Xt,er,!1,null,"8733fc62",null)),sr=nr.exports,or={name:"App",components:{storyList:F,storyViewer:_t,storyCreator:Qt,contentLoader:sr},data:function(){return{stories:null,loaded:!1,message:null}},methods:{createWaitingElement:function(){var e=this;setTimeout((function(){var t=document.createElement("div");t.classList.add("bpstory-waiting");var r=document.createElement("div");r.innerHTML=e.$store.getters.multiLang.waiting,t.appendChild(r),document.body.querySelector(".bpstory-waiting")&&document.body.querySelector(".bpstory-waiting").remove(),document.body.appendChild(t)}),1e3)},showCreator:function(){return!!this.$root.options&&!(!this.$root.options||!this.$root.options.creator)},getStories:function(){var e=this,t="getStoriesList";return this.$root.options&&this.$root.options.getStoriesParameter&&(t=this.$root.options.getStoriesParameter),new Promise((function(r){e.axios.get(BPSTORY_API_URL+"?action=".concat(t)).then((function(t){var r=t.data;r.data&&(e.stories=r.data,e.$store.dispatch("stories/setListAll",r.data)),e.createWaitingElement(),r.message&&(e.message=r.message)})).catch((function(e){e.response.data.message&&alert(e.response.data.message)})).then(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.stories){t.next=4;break}return t.next=3,e.$store.dispatch("stories/orderByCookies");case 3:e.stories=e.$store.getters["stories/getList"];case 4:e.loaded=!0,r();case 6:case"end":return t.stop()}}),t)}))))}))},refresh:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loaded=!1,t.next=3,e.getStories();case 3:e.$store.dispatch("randomKey");case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;this.$root.options&&this.$root.options.refresh&&setInterval(this.refresh,6e4*this.$root.options.refresh),this.$root.EventBus.$on("updateStories",(function(t){e.stories=t})),this.$root.EventBus.$on("refresh",this.refresh)},beforeCreate:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$root.options&&(e.$root.options.multiLang&&(r=e.$store.getters.multiLang,n=Object.assign(r,e.$root.options.multiLang),e.$store.dispatch("setCustomSetting",{stateName:"multiLang",newStateData:n})),e.$root.options.supportedMediaTypes&&e.$store.dispatch("setCustomSetting",{stateName:"supportedMediaTypes",newStateData:e.$root.options.supportedMediaTypes}),e.$root.options.maxFileSize&&e.$store.dispatch("setCustomSetting",{stateName:"maxFileSize",newStateData:e.$root.options.maxFileSize}),e.$root.options.transitionTime&&e.$store.dispatch("autoTransition/setTransitionTime",e.$root.options.transitionTime)),t.next=3,e.$store.dispatch("cookies/isKey");case 3:if(t.sent){t.next=5;break}e.$store.dispatch("cookies/set",{});case 5:e.getStories();case 6:case"end":return t.stop()}}),t)})))()},computed:{randomKey:function(){return this.$store.getters.randomKey}}},ir=or,ar=(r("5c0b"),Object(M["a"])(ir,B,L,!1,null,null,null)),cr=ar.exports,ur=r("2b27"),lr=r.n(ur),dr=r("bc3a"),pr=r.n(dr),mr=r("2106"),vr=r.n(mr);function yr(e){var t={};t.bpStoryId=e.getAttribute("id"),t.EventBus=new s["a"];var r=e.getAttribute("data-options");r&&(t.options=JSON.parse(r)),new s["a"]({data:t,store:k(t.bpStoryId,t.EventBus),render:function(e){return e(cr)}}).$mount("#".concat(t.bpStoryId))}if(window.bpStory=$,s["a"].mixin({data:function(){return{bpStory:$}}}),s["a"].use(lr.a),s["a"].$cookies.config(15768e4),s["a"].$cookies.set("theme","default"),s["a"].$cookies.set("hover-time","1s"),pr.a.defaults.baseURL=BPSTORY_API_URL,s["a"].use(vr.a,pr.a),s["a"].config.productionTip=!1,navigator.cookieEnabled){var gr=document.querySelectorAll(".bpstory-placeholder"),fr=!1;gr&&gr.forEach((function(e){fr?e.innerHTML="You can run one BP Story instance on a page.":(fr=!0,yr(e))}))}else alert("Please enable cookies for the BP Story plugin to work.")},5869:function(e,t,r){},"5b00":function(e,t,r){"use strict";r("87a2")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"6c8a":function(e,t,r){"use strict";r("d034")},"6fb2":function(e,t,r){},"72a8":function(e,t,r){},8240:function(e,t,r){},8726:function(e,t,r){},"87a2":function(e,t,r){},"97b0":function(e,t,r){},"9c0c":function(e,t,r){},"9d71":function(e,t,r){},"9f87":function(e,t,r){},a267:function(e,t,r){"use strict";r("9f87")},abd4:function(e,t,r){"use strict";r("6fb2")},cb2e:function(e,t,r){"use strict";r("0fcb")},cdb6:function(e,t,r){"use strict";r("9d71")},d034:function(e,t,r){},d730:function(e,t,r){"use strict";r("8240")},d9d3:function(e,t,r){"use strict";r("97b0")},ee65:function(e,t,r){"use strict";r("1e12")},f980:function(e,t,r){"use strict";r("4cff")}});
//# sourceMappingURL=app.js.map