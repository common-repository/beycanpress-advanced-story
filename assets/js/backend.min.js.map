{"version":3,"sources":["backend.js"],"names":["wpMediaSelector","mediaFrame","wp","media","title","BPStory","selectMedia","multiple","library","type","on","attachment","state","get","first","toJSON","callback","open","selectStoryBoxImage","document","querySelector","addEventListener","getElementById","value","url","src","selectStoryMedia"],"mappings":"CAAA,KACA,IAAAA,gBAAA,WACA,IAAAC,WACAA,aAKAA,WAAAC,GAAAC,MAAA,CACAC,MAAAC,QAAAC,YACAC,UAAA,EACAC,QAAA,CACAC,KAAA,CACA,QACA,YAIAR,WAAAS,GAAA,SAAA,WACA,IAAAC,WAAAV,WAAAW,QAAAC,IAAA,aAAAC,QAAAC,SACAC,SAAAL,eAhBAV,WAAAgB,QAqBA,IAAAC,oBAAAC,SAAAC,cAAA,mCACAF,qBACAA,oBAAAG,iBAAA,QAAA,KACArB,gBAAA,aACAmB,SAAAG,eAAA,mBAAAC,MAAAZ,WAAAa,IACAL,SAAAG,eAAA,2BAAAG,IAAAd,WAAAa,QAKA,IAAAE,iBAAAP,SAAAC,cAAA,+BACAM,kBACAA,iBAAAL,iBAAA,QAAA,KACArB,gBAAA,aACAmB,SAAAC,cAAA,sBAAAG,MAAAZ,WAAAa,SAvCA","file":"backend.min.js","sourcesContent":[";(() => {\r\n    const wpMediaSelector = (callback) => {\r\n        let mediaFrame;\r\n        if(mediaFrame){\r\n            mediaFrame.open();\r\n            return;\r\n        }\r\n        // Define image_frame as wp.media object\r\n        mediaFrame = wp.media({\r\n            title: BPStory.selectMedia,\r\n            multiple : false,\r\n            library : {\r\n                type : [\r\n                    'image',\r\n                    'video'\r\n                ]\r\n            }\r\n        });\r\n        mediaFrame.on('select', function() {\r\n            var attachment = mediaFrame.state().get('selection').first().toJSON();\r\n            callback(attachment);\r\n        });\r\n        mediaFrame.open();\r\n    }\r\n\r\n    let selectStoryBoxImage = document.querySelector('.bpstory-select-story-box-image');\r\n    if (selectStoryBoxImage) {\r\n        selectStoryBoxImage.addEventListener('click', () => {\r\n            wpMediaSelector((attachment) => {\r\n                document.getElementById('story_box_image').value = attachment.url;\r\n                document.getElementById('story_box_image_preview').src = attachment.url;\r\n            });\r\n        });\r\n    }\r\n\r\n    let selectStoryMedia = document.querySelector('.bpstory-select-story-media');\r\n    if (selectStoryMedia) {\r\n        selectStoryMedia.addEventListener('click', () => {\r\n            wpMediaSelector((attachment) => {\r\n                document.querySelector('.bpstory-media-url').value = attachment.url;\r\n            });\r\n        });\r\n    }\r\n\r\n})();"]}